{% extends 'layout.html' %}

{% block body %}
<img src="https://cdn.discordapp.com/attachments/1080310430561472633/1082008689675866212/1280x720-HA-Building.png" width="100%" height="620px">
<center>
<h2>Download a File</h2>
<form action="/download">
  <label for="filename">Enter filename:</label>
  <label for="select">Choose a file:</label>
  <select id="filename" name="filename">
    {% for file_name in uploads_files %}
      <option value="{{ file_name }}">{{ file_name }}</option>
    {% endfor %}
  </select>

  <input type="submit" value="Download">
</form>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
</center>
  <script>
    const input = document.querySelector('#filename')
    input.addEventListener('keyup', event => {
      const value = event.target.value;
      if (!/^[a-zA-Z0-9-.]+$/.test(value) && value !== '') { // it will allow only alphabetic
        event.target.value =  event.target.getAttribute('data-value');
      } else {
        event.target.setAttribute('data-value', value);
      }
    });
  </script>

{% endblock %}